<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>scicloj.ml.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scicloj</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ml</span></div></div></li><li class="depth-3 branch current"><a href="scicloj.ml.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="scicloj.ml.dataset.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dataset</span></div></a></li><li class="depth-3 branch"><a href="scicloj.ml.dvc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dvc</span></div></a></li><li class="depth-3"><a href="scicloj.ml.metamorph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metamorph</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="scicloj.ml.core.html#var--.3Epipeline"><div class="inner"><span>-&gt;pipeline</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-categorical"><div class="inner"><span>categorical</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-classification-accuracy"><div class="inner"><span>classification-accuracy</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-classification-loss"><div class="inner"><span>classification-loss</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-confusion-map"><div class="inner"><span>confusion-map</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-confusion-map-.3Eds"><div class="inner"><span>confusion-map-&gt;ds</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-def-ctx"><div class="inner"><span>def-ctx</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-default-loss-fn"><div class="inner"><span>default-loss-fn</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-default-result-dissoc-in-fn"><div class="inner"><span>default-result-dissoc-in-fn</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-default-result-dissoc-in-seq"><div class="inner"><span>default-result-dissoc-in-seq</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-define-model.21"><div class="inner"><span>define-model!</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-do-ctx"><div class="inner"><span>do-ctx</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-ensemble-pipe"><div class="inner"><span>ensemble-pipe</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-evaluate-pipelines"><div class="inner"><span>evaluate-pipelines</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-explain"><div class="inner"><span>explain</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-fit"><div class="inner"><span>fit</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-fit-pipe"><div class="inner"><span>fit-pipe</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-format-fn-sources"><div class="inner"><span>format-fn-sources</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-get-nice-source-info"><div class="inner"><span>get-nice-source-info</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-hyperparameters"><div class="inner"><span>hyperparameters</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-lift"><div class="inner"><span>lift</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-linear"><div class="inner"><span>linear</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-lookup-tables-consistent.3F"><div class="inner"><span>lookup-tables-consistent?</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-mae"><div class="inner"><span>mae</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-model-definition-names"><div class="inner"><span>model-definition-names</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-model-definitions*"><div class="inner"><span>model-definitions*</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-mse"><div class="inner"><span>mse</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-options-.3Emodel-def"><div class="inner"><span>options-&gt;model-def</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-pipe-it"><div class="inner"><span>pipe-it</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-pipeline"><div class="inner"><span>pipeline</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-predict"><div class="inner"><span>predict</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-probability-distributions-.3Elabels"><div class="inner"><span>probability-distributions-&gt;labels</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-reduce-result"><div class="inner"><span>reduce-result</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-result-dissoc-in-seq--all"><div class="inner"><span>result-dissoc-in-seq--all</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-result-dissoc-in-seq--all-fn"><div class="inner"><span>result-dissoc-in-seq--all-fn</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-result-dissoc-in-seq--ctxs"><div class="inner"><span>result-dissoc-in-seq--ctxs</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-result-dissoc-in-seq-ctx-fn"><div class="inner"><span>result-dissoc-in-seq-ctx-fn</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-rmse"><div class="inner"><span>rmse</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-sobol-gridsearch"><div class="inner"><span>sobol-gridsearch</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-thaw-model"><div class="inner"><span>thaw-model</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-train"><div class="inner"><span>train</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-transform-pipe"><div class="inner"><span>transform-pipe</span></div></a></li><li class="depth-1"><a href="scicloj.ml.core.html#var-validate-lookup-tables"><div class="inner"><span>validate-lookup-tables</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">scicloj.ml.core</h1><div class="doc"><div class="markdown"><p>Core functions for machine learninig and pipeline execution.</p>
<p>Requiring this namesspace registers as well the model in:</p>
<ul>
  <li>scicloj.ml.smile.classification</li>
  <li>scicloj.ml.smile.regression</li>
  <li>scicloj.ml.xgboost</li>
</ul>
<p>Functions are re-exported from:</p>
<ul>
  <li>scicloj.metamorph.ml.*</li>
  <li>scicloj.metamorph.core</li>
</ul></div></div><div class="public anchor" id="var--.3Epipeline"><h3>-&gt;pipeline</h3><div class="usage"><code>(-&gt;pipeline ops)</code><code>(-&gt;pipeline config ops)</code></div><div class="doc"><div class="markdown"><p>Create pipeline from declarative description.</p></div></div></div><div class="public anchor" id="var-categorical"><h3>categorical</h3><div class="usage"><code>(categorical value-vec)</code></div><div class="doc"><div class="markdown"><p>Given a vector a categorical values create a gridsearch definition.</p></div></div></div><div class="public anchor" id="var-classification-accuracy"><h3>classification-accuracy</h3><div class="usage"><code>(classification-accuracy lhs rhs)</code></div><div class="doc"><div class="markdown"><p>correct/total. Model output is a sequence of probability distributions. label-seq is a sequence of values. The answer is considered correct if the key highest probability in the model output entry matches that label.</p></div></div></div><div class="public anchor" id="var-classification-loss"><h3>classification-loss</h3><div class="usage"><code>(classification-loss lhs rhs)</code></div><div class="doc"><div class="markdown"><p>1.0 - classification-accuracy.</p></div></div></div><div class="public anchor" id="var-confusion-map"><h3>confusion-map</h3><div class="usage"><code>(confusion-map predicted-labels labels normalize)</code><code>(confusion-map predicted-labels labels)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-confusion-map-.3Eds"><h3>confusion-map-&gt;ds</h3><div class="usage"><code>(confusion-map-&gt;ds conf-matrix-map normalize)</code><code>(confusion-map-&gt;ds conf-matrix-map)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-def-ctx"><h3>def-ctx</h3><h4 class="type">macro</h4><div class="usage"><code>(def-ctx varname)</code></div><div class="doc"><div class="markdown"><p>Convenience macro for defining pipelined operations that bind the current value of the context to a var, for simple debugging purposes.</p></div></div></div><div class="public anchor" id="var-default-loss-fn"><h3>default-loss-fn</h3><div class="usage"><code>(default-loss-fn dataset)</code></div><div class="doc"><div class="markdown"><p>Given a datset which must have exactly 1 inference target column return a default loss fn. If column is categorical, loss is tech.v3.ml.loss/classification-loss, else the loss is tech.v3.ml.loss/mae (mean average error).</p></div></div></div><div class="public anchor" id="var-default-result-dissoc-in-fn"><h3>default-result-dissoc-in-fn</h3><div class="usage"><code>(default-result-dissoc-in-fn result)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-default-result-dissoc-in-seq"><h3>default-result-dissoc-in-seq</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-define-model.21"><h3>define-model!</h3><div class="usage"><code>(define-model! model-kwd train-fn predict-fn opts)</code></div><div class="doc"><div class="markdown"><p>Create a model definition. An ml model is a function that takes a dataset and an options map and returns a model. A model is something that, combined with a dataset, produces a inferred dataset.</p></div></div></div><div class="public anchor" id="var-do-ctx"><h3>do-ctx</h3><div class="usage"><code>(do-ctx f)</code></div><div class="doc"><div class="markdown"><p>Apply f:: ctx -&gt; any, ignore the result, leaving pipeline unaffected. Akin to using doseq for side-effecting operations like printing, visualization, or binding to vars for debugging.</p></div></div></div><div class="public anchor" id="var-ensemble-pipe"><h3>ensemble-pipe</h3><div class="usage"><code>(ensemble-pipe pipes)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-evaluate-pipelines"><h3>evaluate-pipelines</h3><div class="usage"><code>(evaluate-pipelines pipe-fn-or-decl-seq train-test-split-seq metric-fn loss-or-accuracy options)</code><code>(evaluate-pipelines pipe-fn-seq train-test-split-seq metric-fn loss-or-accuracy)</code></div><div class="doc"><div class="markdown"><p>Evaluates the performance of a seq of metamorph pipelines, which are suposed to have a model as last step under key :model, which behaves correctly in mode :fit and :transform. The function <code>scicloj.metamorph.ml/model</code> is such function behaving correctly.</p>
<p>This function calculates the accuracy or loss, given as <code>metric-fn</code> of each pipeline in <code>pipeline-fn-seq</code> using all the train-test splits given in <code>train-test-split-seq</code>.</p>
<p>It runs the pipelines in mode :fit and in mode :transform for each pipeline-fn in <code>pipe-fn-seq</code> for each split in <code>train-test-split-seq</code>.</p>
<p>The function returns a seq of seqs of evaluation results per pipe-fn per train-test split.  Each of teh evaluation results is a context map, which is specified in the malli schema attached to this function. </p>
<ul>
  <li>
  <p><code>pipe-fn-or-decl-seq</code> need to be sequence of pipeline functions or pipline declarations which follow the metamorph approach. These type of functions get produced typically by calling <code>scicloj.metamorph/pipeline</code>. Documentation is here:</p></li>
  <li>
  <p><code>train-test-split-seq</code> need to be a sequence of maps containing the train and test dataset (being tech.ml.dataset) at keys :train and :test.  <code>tableclot.api/split-&gt;seq</code> produces such splits. Supervised models require both keys (:train and :test), while unsupervised models only use :train</p></li>
  <li>
  <p><code>metric-fn</code> Metric function to use. Typically comming from <code>tech.v3.ml.loss</code>. For supervised models the metric-fn receives the trueth and predicted vales as double arrays and should return a single double number. For unsupervised models he function receives the fitted ctx and should return a singel double number as well. This metric will be used to sort and eventualy filter the result, depending on the options (:return-best-pipeline-only and :return-best-crossvalidation-only). The notion of <code>best</code> comes from metric-fn combined with loss-and-accuracy</p></li>
  <li>
  <p><code>loss-or-accuracy</code> If the metric-fn is a loss or accuracy calculation. Can be :loss or :accuracy. Decided the notion of <code>best</code> model. In case of :loss pipelines with lower metric are better, in case of :accuracy pipelines with higher value are better.</p></li>
  <li>
    <p><code>options</code> map controls some mainly performance related parameters. These function can potentialy result in a large ammount of data,  able to bring the JVM into out-of-memory. We can control how many details the function returns by the following parameter:  The default are quite aggresive in removing details, and this can be tweaked further into more or less details via:</p>
    <ul>
      <li><code>:return-best-pipeline-only</code> - Only return information of the best performing pipeline. Default is true.</li>
      <li><code>:return-best-crossvalidation-only</code> - Only return information of the best crossvalidation (per pipeline returned). Default is true.</li>
      <li><code>:map-fn</code> - Controls parallelism, so if we use map (:map) , pmap (:pmap) or :mapv to map over different pipelines. Default :pmap</li>
      <li><code>:evaluation-handler-fn</code> - Gets called once with the complete result of an individual pipeline evaluation.  It can be used to adapt the data returned for each evaluation and / or to make side effects using  the evaluatio data.  The result of this function is taken as evaluation result. It need to contain as a minumum this 2 key paths:  [:train-transform :metric]
 [:test-transform :metric]  All other evalution data can be removed, if desired.
        <p>It can be used for side effects as well, like experiment tracking on disk.  The passed in evaluation result is a map with all information on the current evaluation, including the datasets used.</p>
        <p>The default handler function is: <code>scicloj.metamorph.ml/default-result-dissoc--in-fn</code> which removes the often large  model object and the training data.  <code>identity</code> can be use to get all evaluation data.  <code>scicloj.metamorph.ml/result-dissoc-in-seq--all</code> reduces even more agressively.</p>
      </li>
      <li>
      <p><code>:other-metrices</code> Specifies other metrices to be calculated during evaluation</p></li>
    </ul>
  </li>
</ul>
<p>This function expects as well the ground truth of the target variable into  a specific key in the context at key <code>:model :scicloj.metamorph.ml/target-ds</code>  See here for the simplest way to set this up: <a href="https://github.com/behrica/metamorph.ml/blob/main/README.md">https://github.com/behrica/metamorph.ml/blob/main/README.md</a>  The function <a href="scicloj.ml.metamorph.html#var-model">scicloj.ml.metamorph/model</a> does this correctly.</p></div></div></div><div class="public anchor" id="var-explain"><h3>explain</h3><div class="usage"><code>(explain model &amp; args)</code></div><div class="doc"><div class="markdown"><p>Explain (if possible) an ml model. A model explanation is a model-specific map of data that usually indicates some level of mapping between features and importance</p></div></div></div><div class="public anchor" id="var-fit"><h3>fit</h3><div class="usage"><code>(fit data &amp; args)</code></div><div class="doc"><div class="markdown"><p>Helper function which executes pipeline op(s) in mode :fit on the given data and returns the fitted ctx.</p>
<p>Main use is for cases in which the pipeline gets executed ones and no model is part of the pipeline.</p></div></div></div><div class="public anchor" id="var-fit-pipe"><h3>fit-pipe</h3><div class="usage"><code>(fit-pipe data pipe-fn)</code></div><div class="doc"><div class="markdown"><p>Helper function which executes pipeline op(s) in mode :fit on the given data and returns the fitted ctx.</p>
<p>Main use is for cases in which the pipeline gets executed ones and no model is part of the pipeline.</p></div></div></div><div class="public anchor" id="var-format-fn-sources"><h3>format-fn-sources</h3><div class="usage"><code>(format-fn-sources fn-sources)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get-nice-source-info"><h3>get-nice-source-info</h3><div class="usage"><code>(get-nice-source-info pipeline-decl pipe-fns-ns pipe-fns-source-file)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-hyperparameters"><h3>hyperparameters</h3><div class="usage"><code>(hyperparameters model-kwd)</code></div><div class="doc"><div class="markdown"><p>Get the hyperparameters for this model definition</p></div></div></div><div class="public anchor" id="var-lift"><h3>lift</h3><div class="usage"><code>(lift op &amp; args)</code></div><div class="doc"><div class="markdown"><p>Create context aware version of the given <code>op</code> function. <code>:metamorph/data</code> will be used as a first parameter.</p>
<p>Result of the <code>op</code> function will be stored under <code>:metamorph/data</code></p></div></div></div><div class="public anchor" id="var-linear"><h3>linear</h3><div class="usage"><code>(linear start end n-steps res-dtype-or-space)</code><code>(linear start end n-steps)</code><code>(linear start end)</code></div><div class="doc"><div class="markdown"><p>Create a gridsearch definition which does a linear search.</p>
<ul>
  <li>res-dtype-or-space map be either a datatype keyword or a vector  of categorical values.</li>
</ul></div></div></div><div class="public anchor" id="var-lookup-tables-consistent.3F"><h3>lookup-tables-consistent?</h3><div class="usage"><code>(lookup-tables-consistent? train-lookup-table prediction-lookup-table)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-mae"><h3>mae</h3><div class="usage"><code>(mae predictions labels)</code></div><div class="doc"><div class="markdown"><p>mean absolute error</p></div></div></div><div class="public anchor" id="var-model-definition-names"><h3>model-definition-names</h3><div class="usage"><code>(model-definition-names)</code></div><div class="doc"><div class="markdown"><p>Return a list of all registered model defintion names.</p></div></div></div><div class="public anchor" id="var-model-definitions*"><h3>model-definitions*</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-mse"><h3>mse</h3><div class="usage"><code>(mse predictions labels)</code></div><div class="doc"><div class="markdown"><p>mean squared error</p></div></div></div><div class="public anchor" id="var-options-.3Emodel-def"><h3>options-&gt;model-def</h3><div class="usage"><code>(options-&gt;model-def options)</code></div><div class="doc"><div class="markdown"><p>Return the model definition that corresponse to the :model-type option</p></div></div></div><div class="public anchor" id="var-pipe-it"><h3>pipe-it</h3><div class="usage"><code>(pipe-it data &amp; args)</code></div><div class="doc"><div class="markdown"><p>Takes a data objects, executes the pipeline op(s) with it in :metamorph/data in mode :fit and returns content of :metamorph/data. Usefull to use execute a pipeline of pure data-&gt;data functions on some data</p></div></div></div><div class="public anchor" id="var-pipeline"><h3>pipeline</h3><div class="usage"><code>(pipeline &amp; args)</code></div><div class="doc"><div class="markdown"><p>Create a metamorph pipeline function out of operators.</p>
<p><code>ops</code> are metamorph compliant functions (basicaly fn, which takle a ctx as first argument)</p>
<p>This function returns a function, whcih can ve execute with a ctx as parameter.</p></div></div></div><div class="public anchor" id="var-predict"><h3>predict</h3><div class="usage"><code>(predict dataset model)</code></div><div class="doc"><div class="markdown"><p>Predict returns a dataset with only the predictions in it.</p>
<ul>
  <li>For regression, a single column dataset is returned with the column named after the  target</li>
  <li>For classification, a dataset is returned with a float64 column for each target  value and values that describe the probability distribution.</li>
</ul></div></div></div><div class="public anchor" id="var-probability-distributions-.3Elabels"><h3>probability-distributions-&gt;labels</h3><div class="usage"><code>(probability-distributions-&gt;labels prob-dists)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-reduce-result"><h3>reduce-result</h3><div class="usage"><code>(reduce-result r result-dissoc-in-seq)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-result-dissoc-in-seq--all"><h3>result-dissoc-in-seq--all</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-result-dissoc-in-seq--all-fn"><h3>result-dissoc-in-seq--all-fn</h3><div class="usage"><code>(result-dissoc-in-seq--all-fn result)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-result-dissoc-in-seq--ctxs"><h3>result-dissoc-in-seq--ctxs</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-result-dissoc-in-seq-ctx-fn"><h3>result-dissoc-in-seq-ctx-fn</h3><div class="usage"><code>(result-dissoc-in-seq-ctx-fn result)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-rmse"><h3>rmse</h3><div class="usage"><code>(rmse predictions labels)</code></div><div class="doc"><div class="markdown"><p>root mean squared error</p></div></div></div><div class="public anchor" id="var-sobol-gridsearch"><h3>sobol-gridsearch</h3><div class="usage"><code>(sobol-gridsearch opt-map start-idx)</code><code>(sobol-gridsearch opt-map)</code></div><div class="doc"><div class="markdown"><p>Given an map of key-&gt;values where some of the values are gridsearch definitions  produce a sequence of fully defined maps.</p>
<pre><code class="clojure">user&gt; (require '[tech.v3.ml.gridsearch :as ml-gs])
nil
user&gt; (def opt-map  {:a (ml-gs/categorical [:a :b :c])
                     :b (ml-gs/linear 0.01 1 10)
                     :c :not-searched})
user&gt; opt-map
{:a
 {:tech.v3.ml.gridsearch/type :linear,
  :start 0.0,
  :end 2.0,
  :n-steps 3,
  :result-space [:a :b :c]}
  ...

user&gt; (ml-gs/sobol-gridsearch opt-map)
({:a :b, :b 0.56, :c :not-searched}
 {:a :c, :b 0.22999999999999998, :c :not-searched}
 {:a :b, :b 0.78, :c :not-searched}
...
</code></pre></div></div></div><div class="public anchor" id="var-thaw-model"><h3>thaw-model</h3><div class="usage"><code>(thaw-model model opts)</code><code>(thaw-model model)</code></div><div class="doc"><div class="markdown"><p>Thaw a model. Model’s returned from train may be ‘frozen’ meaning a ‘thaw’ operation is needed in order to use the model. This happens for you during predict but you may also cached the ‘thawed’ model on the model map under the ‘:thawed-model’ keyword in order to do fast predictions on small datasets.</p></div></div></div><div class="public anchor" id="var-train"><h3>train</h3><div class="usage"><code>(train dataset options)</code></div><div class="doc"><div class="markdown"><p>Given a dataset and an options map produce a model. The model-type keyword in the options map selects which model definition to use to train the model. Returns a map containing at least:</p>
<ul>
  <li><code>:model-data</code> - the result of that definitions’s train-fn.</li>
  <li><code>:options</code> - the options passed in.</li>
  <li><code>:id</code> - new randomly generated UUID.</li>
  <li><code>:feature-columns</code> - vector of column names.</li>
  <li><code>:target-columns</code> - vector of column names.</li>
</ul></div></div></div><div class="public anchor" id="var-transform-pipe"><h3>transform-pipe</h3><div class="usage"><code>(transform-pipe data pipe-fn ctx)</code></div><div class="doc"><div class="markdown"><p>Helper functions which execute the passed <code>pipe-fn</code> on the given <code>data</code> in mode :transform. It merges the data into the provided <code>ctx</code> while doing so.</p></div></div></div><div class="public anchor" id="var-validate-lookup-tables"><h3>validate-lookup-tables</h3><div class="usage"><code>(validate-lookup-tables model predict-ds-classification target-col)</code></div><div class="doc"><div class="markdown"></div></div></div></div></body></html>